import{r as O,x as T,y as V,l as B,q as w,o as f,c as p,w as l,k as C,b as a,u as s,_ as I,a as r,t as n,B as N,p as q,f as g,j as k,e as E,O as $,A as L}from"./app-40253c50.js";import{u as z}from"./AppLayout-a080016c.js";import{_ as F}from"./AdminLayout-8e9e5df5.js";import{D as h,_ as X}from"./DtRowItem-39bddbf0.js";import{u as H}from"./useAuthorizable-b0ead891.js";import{X as U}from"./XSelect-36cd7df9.js";import{_ as G}from"./RecruitmentStatusBadge-464b92ab.js";import{r as J}from"./EyeIcon-6701ee5d.js";import{r as K}from"./TrashIcon-d29d86cf.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./use-resolve-button-type-e9f77412.js";import"./CloudArrowDownIcon-018ac40e.js";import"./index-37b20c98.js";import"./XMarkIcon-2693dd7f.js";const M={class:"p-4 mx-auto space-y-4 px-10"},P={class:"flex items-center justify-between"},Q={class:"text-xl font-extrabold text-gray-800 dark:text-gray-200"},W={class:"text-sm px-4 font-medium text-left text-gray-800 whitespace-nowrap dark:text-gray-200"},Y={class:"px-4"},Z={class:"flex-shrink-0 h-10 w-10 mr-2"},ee=["src"],te={class:"flex-col"},se={class:"text-sm text-gray-500"},re={class:"px-6 py-4 space-x-2 text-sm font-medium text-right whitespace-nowrap"},xe={__name:"IndexRecruitmentSubmission",props:{forms:{type:Object},filters:{type:Object},submissions:{type:Object},closed:{type:Boolean,default:!1}},setup(i){var _,b,x;const c=i,{can:v}=H(),{__:t}=C(),{formatTimeAgoToNow:R,formatToDayDateString:D}=z(),A=[{key:"id",label:t("ID"),sortable:!0,class:"text-left w-[5%]"},{key:"user_id",sortable:!0,label:t("Applicant"),class:"w-3/12"},{key:"recruitment_id",label:t("Recruitment"),sortable:!0},{key:"status",label:t("Status"),sortable:!0},{key:"created_at",label:t("Created At"),class:"text-right w-1/12 whitespace-nowrap",sortable:!0},{key:"actions",label:t("Actions"),sortable:!1,class:"w-1/12 text-right"}];let u=O((b=(_=c.filters)==null?void 0:_.forms)!=null&&b.length?(x=c.filters)==null?void 0:x.forms[0]:null);const S=T(()=>c.filters.forms&&c.filters.forms.length>0?c.filters.forms.map(o=>c.forms[o]).join(", "):null);return V(u,o=>{const d={forms:o?[o]:null};$.get(route(route().current()),L.pickBy(d))}),(o,d)=>{const m=B("InertiaLink"),y=w("tippy"),j=w("confirm");return f(),p(F,null,{default:l(()=>[a(I,{title:i.closed?s(t)("Closed Request - Recruitments"):s(t)("Open Requests - Recruitments")},null,8,["title"]),r("div",M,[r("div",P,[r("h3",Q,n(i.closed?s(t)("Closed Recruitment Submissions:"):s(t)("Open Recruitment Submissions:"))+" "+n(S.value??s(t)("All Recruitments")),1),a(U,{id:"selectForms",modelValue:s(u),"onUpdate:modelValue":d[0]||(d[0]=e=>N(u)?u.value=e:u=e),name:"selectForms","select-list":i.forms,placeholder:s(t)("All Recruitments"),class:"w-48 max-w-48 dark:border dark:rounded dark:border-gray-700"},null,8,["modelValue","select-list","placeholder"])]),r("div",null,[a(X,{class:"bg-white rounded shadow dark:bg-gray-800",header:A,data:i.submissions,filters:i.filters},{default:l(({item:e})=>[r("td",W,n(e.id),1),r("td",Y,[a(m,{href:o.route("user.public.get",e.user.username),class:"flex items-center"},{default:l(()=>[r("div",Z,[r("img",{class:"h-10 w-10 rounded-full",src:e.user.profile_photo_url,alt:"Avatar"},null,8,ee)]),r("div",te,[r("div",{class:"text-sm font-semibold text-gray-900 dark:text-gray-300 whitespace-nowrap truncate",style:q([e.user.roles[0].color?{color:e.user.roles[0].color}:null])},n(e.user.name),5),r("div",se," @"+n(e.user.username),1)])]),_:2},1032,["href"])]),a(h,null,{default:l(()=>[g(n(e.recruitment.title),1)]),_:2},1024),a(h,null,{default:l(()=>[a(G,{status:e.status.value},null,8,["status"])]),_:2},1024),k((f(),p(h,{class:"text-right whitespace-nowrap",content:s(D)(e.created_at)},{default:l(()=>[g(n(s(R)(e.created_at)),1)]),_:2},1032,["content"])),[[y]]),r("td",re,[a(m,{as:"a",href:o.route("admin.recruitment-submission.show",e.id),class:"inline-flex items-center justify-center text-blue-500 hover:text-blue-800"},{default:l(()=>[a(s(J),{class:"inline-block w-5 h-5"})]),_:2},1032,["href"]),s(v)("delete recruitment_submissions")&&i.closed?k((f(),p(m,{key:0,as:"button",method:"DELETE",href:o.route("admin.recruitment-submission.delete",e.id),class:"inline-flex items-center justify-center text-red-600 hover:text-red-900 focus:outline-none",title:s(t)("Delete Submission")},{default:l(()=>[a(s(K),{class:"inline-block w-5 h-5"})]),_:2},1032,["href","title"])),[[j,{message:"Delete this Recruitment Submission? This action cannot be undone."}],[y]]):E("",!0)])]),_:1},8,["data","filters"])])])]),_:1})}}};export{xe as default};
